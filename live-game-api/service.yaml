name: live-game-api
kind: service
language: python
runtime: python3.11

description: Real-time game state management API for live chess games with WebSocket support

commands:
  dev: "poetry run uvicorn app.main:app --reload --host 0.0.0.0 --port 8002"
  test: "poetry run pytest tests/ -v --cov=app"
  build: "poetry build"
  lint: "poetry run pylint app/ && poetry run black --check app/"
  migrate: "poetry run alembic upgrade head"
  seed: "poetry run python scripts/seed.py"
  logs: "docker logs live-game-api --tail ${lines}"
  bruno: "bruno open bruno/collections"
  bruno-test: "bruno run bruno/collections --env local"

dependencies:
  dev:
    - account-api
  test:
    - account-api
  build: []
  deploy:
    - account-api

infra:
  requires:
    - database
    - cache
  optional:
    - queue

tags:
  - gaming
  - real-time
  - websocket
